import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,d as e,o as t}from"./app-CYsXIaiR.js";const l={};function n(h,i){return t(),a("div",null,i[0]||(i[0]=[e(`<blockquote><p>第36期 R语言！整洁数据全流程常用包介绍和汇总</p><p>之前的第30期介绍R语言的整洁数据规范。接下来我我们学习一下通过哪些包可以获得整洁数据</p><p>本期介绍了R语言包括数据导入-数据整理-数据可视化全流程的<strong>常用包及具体实例</strong></p></blockquote><h2 id="数据导入" tabindex="-1"><a class="header-anchor" href="#数据导入"><span>数据导入</span></a></h2><p>我们可以通过多种不同的方式来存储您要使用的数据。有时信息存储在 Excel 电子表格中。其他时候，数据位于需要抓取的网站上的表格中。或者，在 CSV 文件中。每种类型的数据文件都有自己的结构，但 R 可以处理所有这些类型。然而，要做到这一点，需要熟悉一些不同的软件包。</p><ul><li><p><strong>readr</strong>: 用于快速高效地读取CSV和类似的分隔文本文件。示例：读取CSV文件。</p><div class="language-r line-numbers-mode" data-highlighter="shiki" data-ext="r" data-title="r" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">library</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(readr)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">data </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;-</span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;"> read_csv</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;example.csv&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>googlesheets4</strong>: 专门用于从Google Sheets中导入数据。示例：读取Google Sheets中的数据。</p><div class="language-r line-numbers-mode" data-highlighter="shiki" data-ext="r" data-title="r" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">library</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(googlesheets4)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sheet </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;-</span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;"> read_sheet</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;https://docs.google.com/spreadsheets/d/1d...&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>readxl</strong>: 专门用于从Excel文件中读取数据，无需安装Microsoft Excel。示例：读取Excel文件。</p><div class="language-r line-numbers-mode" data-highlighter="shiki" data-ext="r" data-title="r" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">library</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(readxl)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">data </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;-</span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;"> read_excel</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;example.xlsx&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>googledrive</strong>: 用于访问和管理Google Drive上的文件。示例：列出Google Drive中的文件。</p><div class="language-r line-numbers-mode" data-highlighter="shiki" data-ext="r" data-title="r" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">library</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(googledrive)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;">drive_ls</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>haven</strong>: 用于读取SPSS、Stata和SAS文件，使得这些统计软件的数据格式易于在R中使用。示例：读取SPSS文件。</p><div class="language-r line-numbers-mode" data-highlighter="shiki" data-ext="r" data-title="r" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">library</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(haven)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">data </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;-</span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;"> read_spss</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;example.sav&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>jsonlite &amp; xml2</strong>: 分别用于处理JSON和XML格式的数据，这两种格式常用于网络数据交换。示例：解析JSON数据。</p><div class="language-r line-numbers-mode" data-highlighter="shiki" data-ext="r" data-title="r" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">library</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(jsonlite)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">json_data </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;-</span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;"> fromJSON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;{&quot;name&quot;:&quot;John&quot;, &quot;age&quot;:30, &quot;city&quot;:&quot;New York&quot;}&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>rvest</strong>: 用于从网页上抓取数据，非常适合进行网页内容的数据挖掘。示例：从网页中提取数据。</p><div class="language-r line-numbers-mode" data-highlighter="shiki" data-ext="r" data-title="r" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">library</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(rvest)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">webpage </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;-</span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;"> read_html</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;http://example.com&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">titles </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;-</span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;"> html_nodes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(webpage, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;h1&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) %&gt;% </span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;">html_text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>httr</strong>: 专门用于与网络API进行交互，特别是处理JSON数据时。示例：发送GET请求到API。</p></li></ul><p>每个包的功能都专注于处理特定类型的数据源或数据格式，为数据科学和统计分析提供了极大的便利。</p><h2 id="数据整理" tabindex="-1"><a class="header-anchor" href="#数据整理"><span>数据整理</span></a></h2><p>数据整理是将杂乱无章的数据转换成一种格式，使之更加有序和易于分析。Tidyverse 提供了一系列的包来帮助完成这一任务：</p><ul><li><p><strong>dplyr</strong>: 这个包提供了一套一致的动词（如变异(mutate)、选择(select)、过滤(filter)、总结(summarise)和排列(arrange)），以帮助处理数据。例如，使用 <code>filter()</code> 从数据框中选择满足特定条件的行：</p><div class="language-r line-numbers-mode" data-highlighter="shiki" data-ext="r" data-title="r" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">library</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(dplyr)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">filtered_data </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> your_data_frame %&gt;% </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">filter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(your_condition)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>tidyr</strong>: 主要用于将杂乱的数据整理为整洁的格式，其中每个变量是一列，每个观测是一行。例如，使用 <code>gather()</code> 函数将宽格式数据转换为长格式数据：</p><div class="language-r line-numbers-mode" data-highlighter="shiki" data-ext="r" data-title="r" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">library</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(tidyr)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">long_data </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> wide_data %&gt;% </span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;">gather</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(key, value, </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">columns_to_exclude)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>janitor</strong>: 这个包简化了清洁和管理数据的过程。例如，使用 <code>clean_names()</code> 将所有列名转换为小写并替换空格为下划线：</p><div class="language-r line-numbers-mode" data-highlighter="shiki" data-ext="r" data-title="r" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">library</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(janitor)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">clean_data </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> your_data_frame %&gt;% </span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;">clean_names</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>forcats</strong>: 主要用于简化R中因子类型数据的处理。例如，使用 <code>fct_reorder()</code> 根据另一列的值重新排序因子水平：</p><div class="language-r line-numbers-mode" data-highlighter="shiki" data-ext="r" data-title="r" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">library</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(forcats)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">reordered_data </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> your_data_frame %&gt;% </span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;">mutate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">your_factor</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;"> fct_reorder</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(your_factor, another_column))</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>stringr</strong>: 用于简化字符串处理，特别是与正则表达式结合使用。例如，使用 <code>str_replace()</code> 替换字符串中的模式：</p><div class="language-r line-numbers-mode" data-highlighter="shiki" data-ext="r" data-title="r" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">library</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(stringr)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">modified_data </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> your_data_frame %&gt;% </span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;">mutate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">your_column</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;"> str_replace</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(your_column, pattern, replacement))</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>lubridate</strong>: 使日期和时间的处理变得简单。例如，使用 <code>ymd()</code> 将年月日格式的字符串转换为日期对象：</p><div class="language-r line-numbers-mode" data-highlighter="shiki" data-ext="r" data-title="r" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">library</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(lubridate)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">date_data </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> your_data_frame %&gt;% </span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;">mutate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">date_column</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;"> ymd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(date_column))</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>glue</strong>: 用于更简单地处理带解释的字符串字面量。例如，用 <code>glue()</code> 动态构建字符串：</p><div class="language-r line-numbers-mode" data-highlighter="shiki" data-ext="r" data-title="r" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">library</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(glue)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">text </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;-</span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;"> glue</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Today is {Sys.Date()}&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>skimr</strong>: 在数据整理完成后，用于快速汇总和查看数据框的结构。例如，使用 <code>skim()</code> 查看数据概况：</p><div class="language-r line-numbers-mode" data-highlighter="shiki" data-ext="r" data-title="r" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">library</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(skimr)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;">skim</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(your_data_frame)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>tidytext</strong>: 用于文本数据的分析和处理。例如，使用 <code>unnest_tokens()</code> 将文本列拆分为单词：</p><div class="language-r line-numbers-mode" data-highlighter="shiki" data-ext="r" data-title="r" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">library</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(tidytext)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">tidy_text </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> your_data_frame %&gt;% </span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;">unnest_tokens</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(word, text_column)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>purrr</strong>: 增强R的函数式编程能力，特别是用于处理向量和函数。例如，使用 <code>map()</code> 替代传统的for循环：</p></li></ul><h2 id="数据可视化" tabindex="-1"><a class="header-anchor" href="#数据可视化"><span>数据可视化</span></a></h2><p>数据可视化是理解数据的重要步骤，Tidyverse 提供了多个包来帮助创建可视化：</p><ul><li><p><strong>ggplot2</strong>: 允许创建并定制各种图表。例如，使用 <code>ggplot()</code> 绘制散点图：</p><div class="language-r line-numbers-mode" data-highlighter="shiki" data-ext="r" data-title="r" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">library</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(ggplot2)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;">ggplot</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(your_data_frame, </span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;">aes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">x</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x_variable, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">y</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> y_variable)) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;"> geom_point</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>kableExtra</strong>: 用于创建复杂和定制化的表格。例如，使用 <code>kable()</code> 生成一个基本表格，然后用 <code>kableExtra</code> 进行美化：</p><div class="language-r line-numbers-mode" data-highlighter="shiki" data-ext="r" data-title="r" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">library</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(kableExtra)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;">kable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(your_data_frame) %&gt;% </span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;">kable_styling</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>ggrepel</strong>: 用于在 ggplot2 图表中添加避免重叠的文本标签。例如，使用 <code>geom_text_repel()</code> 在散点图中添加文本标签：</p><div class="language-r line-numbers-mode" data-highlighter="shiki" data-ext="r" data-title="r" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">library</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(ggrepel)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;">ggplot</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(your_data_frame, </span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;">aes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">x</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x_variable, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">y</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> y_variable)) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;"> geom_point</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;"> geom_text_repel</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;">aes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">label</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> label_column))</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>cowplot</strong> 和 <strong>patchwork</strong>: 分别用于改善和组合 ggplot2 图表。例如，使用 <code>plot_grid()</code> 将多个图组合在一起：</p><div class="language-r line-numbers-mode" data-highlighter="shiki" data-ext="r" data-title="r" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">library</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(cowplot)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#61AFEF;">plot_grid</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(plot1, plot2, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">labels</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;AUTO&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>gganimate</strong>: 为 ggplot2 图表添加动画效果。例如，创建一个随时间变化的动态图表：</p></li></ul><p>这些包提供了一系列强大的工具来处理和可视化数据，从而使数据分析更加高效和直观。</p><h2 id="其它" tabindex="-1"><a class="header-anchor" href="#其它"><span>其它</span></a></h2><p>内容来源：</p><p>电子书资源获取，公众号回复“<strong>231213</strong>”</p><p>[1]Wright C, Ellis S, Hicks S, et al. <strong>Tidyverse Skills for Data Science in R</strong>[J].</p><figure><img src="https://pic-go-42.oss-cn-guangzhou.aliyuncs.com/img/20231213140654.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,17)]))}const d=s(l,[["render",n],["__file","第36期 R语言！整洁数据全流程常用包介绍和汇总.html.vue"]]),p=JSON.parse('{"path":"/%E4%BB%A3%E7%A0%81%E6%95%99%E7%A8%8B/R%E8%AF%AD%E8%A8%80/%E7%AC%AC36%E6%9C%9F%20R%E8%AF%AD%E8%A8%80%EF%BC%81%E6%95%B4%E6%B4%81%E6%95%B0%E6%8D%AE%E5%85%A8%E6%B5%81%E7%A8%8B%E5%B8%B8%E7%94%A8%E5%8C%85%E4%BB%8B%E7%BB%8D%E5%92%8C%E6%B1%87%E6%80%BB.html","title":"第36期 R语言！整洁数据全流程常用包介绍和汇总","lang":"zh-CN","frontmatter":{"类型":"公众号","公众号内容":["代码-R教程"],"title":"第36期 R语言！整洁数据全流程常用包介绍和汇总","description":"第36期 R语言！整洁数据全流程常用包介绍和汇总 之前的第30期介绍R语言的整洁数据规范。接下来我我们学习一下通过哪些包可以获得整洁数据 本期介绍了R语言包括数据导入-数据整理-数据可视化全流程的常用包及具体实例 数据导入 我们可以通过多种不同的方式来存储您要使用的数据。有时信息存储在 Excel 电子表格中。其他时候，数据位于需要抓取的网站上的表格中...","head":[["meta",{"property":"og:url","content":"https://wk42.top/%E4%BB%A3%E7%A0%81%E6%95%99%E7%A8%8B/R%E8%AF%AD%E8%A8%80/%E7%AC%AC36%E6%9C%9F%20R%E8%AF%AD%E8%A8%80%EF%BC%81%E6%95%B4%E6%B4%81%E6%95%B0%E6%8D%AE%E5%85%A8%E6%B5%81%E7%A8%8B%E5%B8%B8%E7%94%A8%E5%8C%85%E4%BB%8B%E7%BB%8D%E5%92%8C%E6%B1%87%E6%80%BB.html"}],["meta",{"property":"og:site_name","content":"博客演示"}],["meta",{"property":"og:title","content":"第36期 R语言！整洁数据全流程常用包介绍和汇总"}],["meta",{"property":"og:description","content":"第36期 R语言！整洁数据全流程常用包介绍和汇总 之前的第30期介绍R语言的整洁数据规范。接下来我我们学习一下通过哪些包可以获得整洁数据 本期介绍了R语言包括数据导入-数据整理-数据可视化全流程的常用包及具体实例 数据导入 我们可以通过多种不同的方式来存储您要使用的数据。有时信息存储在 Excel 电子表格中。其他时候，数据位于需要抓取的网站上的表格中..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://pic-go-42.oss-cn-guangzhou.aliyuncs.com/img/20231213140654.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-02T10:14:49.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-02T10:14:49.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"第36期 R语言！整洁数据全流程常用包介绍和汇总\\",\\"image\\":[\\"https://pic-go-42.oss-cn-guangzhou.aliyuncs.com/img/20231213140654.png\\"],\\"dateModified\\":\\"2024-11-02T10:14:49.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"wang\\",\\"url\\":\\"https://intro.wk8686.top/\\"}]}"]]},"headers":[{"level":2,"title":"数据导入","slug":"数据导入","link":"#数据导入","children":[]},{"level":2,"title":"数据整理","slug":"数据整理","link":"#数据整理","children":[]},{"level":2,"title":"数据可视化","slug":"数据可视化","link":"#数据可视化","children":[]},{"level":2,"title":"其它","slug":"其它","link":"#其它","children":[]}],"git":{"createdTime":1730542489000,"updatedTime":1730542489000,"contributors":[{"name":"WangKang","email":"888666wang4286@gmail.com","commits":1}]},"readingTime":{"minutes":4.71,"words":1413},"filePathRelative":"代码教程/R语言/第36期 R语言！整洁数据全流程常用包介绍和汇总.md","localizedDate":"2024年11月2日","excerpt":"<blockquote>\\n<p>第36期 R语言！整洁数据全流程常用包介绍和汇总</p>\\n<p>之前的第30期介绍R语言的整洁数据规范。接下来我我们学习一下通过哪些包可以获得整洁数据</p>\\n<p>本期介绍了R语言包括数据导入-数据整理-数据可视化全流程的<strong>常用包及具体实例</strong></p>\\n</blockquote>\\n<h2>数据导入</h2>\\n<p>我们可以通过多种不同的方式来存储您要使用的数据。有时信息存储在 Excel 电子表格中。其他时候，数据位于需要抓取的网站上的表格中。或者，在 CSV 文件中。每种类型的数据文件都有自己的结构，但 R 可以处理所有这些类型。然而，要做到这一点，需要熟悉一些不同的软件包。</p>","autoDesc":true}');export{d as comp,p as data};
